'use client'
import { useStore } from "@nanostores/react";
import { $darkmode, darkmode } from "./theme.store";
import { Icon } from 'public-icons'

const typeIcons = {
    light: <path fill="currentColor" d="M13.0657 3.08805V5.29183C13.0657 6.04516 12.7323 6.40755 12.038 6.40755C11.3437 6.40755 11.0103 6.04516 11.0103 5.29183V3.08805C11.0103 2.36239 11.3437 2 12.038 2C12.7323 2 13.0657 2.36239 13.0657 3.08805ZM15.1496 5.98893L16.4279 4.17611C16.8449 3.61824 17.373 3.50667 17.9001 3.89673C18.4273 4.28679 18.4833 4.78931 18.0673 5.4034L16.7889 7.18856C16.3719 7.80265 15.8723 7.85799 15.3167 7.46793C14.7886 7.07698 14.7335 6.60303 15.1496 5.98982V5.98893ZM7.64809 4.20378L8.95405 5.98893C9.37099 6.60303 9.31499 7.07699 8.75935 7.46704C8.23128 7.88566 7.73166 7.80176 7.31471 7.18767L6.00876 5.40251C5.59181 4.78841 5.64782 4.31446 6.20345 3.9244C6.73152 3.50578 7.23115 3.58968 7.64809 4.20378ZM12.038 7.66252C14.4277 7.66252 16.3719 9.61548 16.3719 12.0138C16.3719 14.3845 14.4268 16.3098 12.038 16.3098C9.64925 16.3098 7.7041 14.3854 7.7041 12.0138C7.7041 9.61458 9.64925 7.66252 12.038 7.66252ZM3.92581 8.27661L6.03721 8.94604C6.73152 9.16919 6.98222 9.58781 6.75997 10.2572C6.56528 10.9267 6.09322 11.1221 5.37045 10.899L3.31417 10.2296C2.61986 10.0064 2.36915 9.56014 2.56385 8.8907C2.7861 8.24894 3.23149 8.05347 3.92581 8.27661ZM18.0664 8.94604L20.1502 8.27661C20.873 8.05347 21.3175 8.24894 21.5113 8.8907C21.7336 9.56014 21.4837 10.0064 20.761 10.2019L18.7047 10.899C18.0104 11.1221 17.5659 10.9267 17.3436 10.2572C17.1489 9.58781 17.3712 9.16919 18.0664 8.94604ZM12.038 14.4131C13.3715 14.4131 14.4552 13.325 14.4552 12.0138C14.4552 10.675 13.3715 9.58692 12.038 9.58692C10.7045 9.58692 9.64836 10.675 9.64836 12.0138C9.64836 13.325 10.7045 14.4131 12.038 14.4131ZM3.31417 13.7713L5.39801 13.1019C6.09233 12.8787 6.56528 13.0457 6.75908 13.716C6.98134 14.3854 6.73152 14.804 6.03632 15.0272L3.92492 15.7243C3.2306 15.9474 2.7861 15.752 2.56385 15.0825C2.36915 14.4131 2.61986 13.9945 3.31417 13.7713ZM18.7056 13.1019L20.7894 13.7713C21.4837 13.9945 21.7344 14.4131 21.5122 15.0825C21.3175 15.752 20.873 15.9474 20.1511 15.7243L18.0673 15.0272C17.3445 14.804 17.1507 14.3854 17.3445 13.716C17.5668 13.0465 18.0113 12.8787 18.7056 13.1019ZM6.00965 18.5689L7.3156 16.8114C7.73255 16.1973 8.23217 16.1143 8.76024 16.5321C9.31587 16.923 9.37188 17.397 8.95494 18.0102L7.64898 19.7677C7.23204 20.3818 6.73241 20.4933 6.17678 20.1024C5.64871 19.7114 5.59359 19.183 6.00965 18.5689ZM16.7889 16.8114L18.0673 18.5689C18.4842 19.183 18.4282 19.7123 17.9001 20.1033C17.3721 20.4942 16.844 20.3541 16.4279 19.7962L15.1496 18.0111C14.7326 17.397 14.7886 16.923 15.3167 16.533C15.8723 16.142 16.3728 16.1973 16.7889 16.8114ZM13.0657 18.6805V20.8843C13.0657 21.6376 12.7323 22 12.038 22C11.3437 22 11.0103 21.6376 11.0103 20.8843V18.6805C11.0103 17.9272 11.3437 17.5648 12.038 17.5648C12.7323 17.5648 13.0657 17.9272 13.0657 18.6805Z"></path>,
    dark: <>
        <path fill="currentColor" d="M3.69995 11.3301C3.69995 7.93576 5.72056 5.0133 8.62457 3.7L9.61571 4.69115C9.17717 5.59033 8.9311 6.6006 8.9311 7.66834C8.9311 11.4241 11.9758 14.4688 15.7316 14.4688C16.7994 14.4688 17.8097 14.2227 18.7088 13.7843L19.7 14.7754C18.3867 17.6794 15.4642 19.7 12.0698 19.7C7.44725 19.7 3.69995 15.9527 3.69995 11.3301Z"></path>
        <path fill="currentColor" d="M15.7316 10.2839L13.116 7.66833L15.7316 5.05276L18.3472 7.66833L15.7316 10.2839Z"></path>
    </>,
}

export default function DarkmodeIcon({ size = 20 }) {
    const THEME = useStore($darkmode);

    return (
        <span className="lb-dm-icon-toggle" onClick={() => darkmode.toggle()}>
            {
                THEME === 'system' ? <Icon icon='laptop-minimal' size={20} /> :

                    <svg height={size} width={size} viewBox="0 0 24 24" fill="none" stroke="none">
                        {
                            THEME === 'dark' ?
                                typeIcons.dark : typeIcons.light
                        }
                    </svg>
            }
        </span>
    )
}
